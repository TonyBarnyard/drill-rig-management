<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Drill Rig Management System</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body style="margin:0;padding:0;background:#1e293b;color:white;">
  <div id="root" style="width:100%;height:100vh;"></div>

  <script>
    const { useState, useEffect } = window.React;
    const { createRoot } = window.ReactDOM;

    const defaultConsumables = [
      { id: 1, name: 'Shock Sub: Montrae 4600', category: 'Shock Sub', partNumber: 'Montrae 4600', weight: '442', length: '562', od: '200', pinSize: '3.5 API Reg Pin', boxSize: '3.5 API Reg Box', photo: null },
      { id: 2, name: 'Shock Sub: Montrae 5600', category: 'Shock Sub', partNumber: 'Montrae 5600', weight: '820', length: '650', od: '254', pinSize: '3.5 API Reg Pin', boxSize: '3.5 API Reg Box', photo: null },
      { id: 3, name: 'Shock Sub: Montrae 3600', category: 'Shock Sub', partNumber: 'Montrae 3600', weight: '295', length: '480', od: '178', pinSize: '3.5 API Reg Pin', boxSize: '3.5 API Reg Box', photo: null },
    ];

    function App() {
      const [adminMode, setAdminMode] = useState(false);
      const [showLoginPrompt, setShowLoginPrompt] = useState(false);
      const [loginAttempt, setLoginAttempt] = useState('');
      const [adminPassword] = useState('admin123');
      const [consumables, setConsumables] = useState(() => {
        try {
          const saved = localStorage.getItem('consumables');
          return saved ? JSON.parse(saved) : defaultConsumables;
        } catch (e) {
          return defaultConsumables;
        }
      });

      useEffect(() => {
        try {
          localStorage.setItem('consumables', JSON.stringify(consumables));
        } catch (e) {
          console.error('Storage error:', e);
        }
      }, [consumables]);

      const handleAdminLogin = () => {
        if (loginAttempt === adminPassword) {
          setAdminMode(true);
          setShowLoginPrompt(false);
          setLoginAttempt('');
        } else {
          alert('Wrong password');
          setLoginAttempt('');
        }
      };

      if (showLoginPrompt) {
        return React.createElement('div', { style: { minHeight: '100vh', background: 'linear-gradient(to bottom right, #0f172a, #1e293b)', display: 'flex', alignItems: 'center', justifyContent: 'center', padding: '1rem' } },
          React.createElement('div', { style: { background: 'linear-gradient(to bottom right, #1e293b, #0f172a)', border: '1px solid rgba(239,68,68,0.3)', borderRadius: '0.5rem', padding: '2rem', maxWidth: '24rem', width: '100%' } },
            React.createElement('h2', { style: { fontSize: '1.5rem', fontWeight: 'bold', color: '#f87171', marginBottom: '1.5rem', textAlign: 'center' } }, 'ðŸ”“ Admin Login'),
            React.createElement('input', { type: 'password', placeholder: 'Password', value: loginAttempt, onChange: (e) => setLoginAttempt(e.target.value), onKeyPress: (e) => e.key === 'Enter' && handleAdminLogin(), style: { width: '100%', background: '#475569', color: 'white', borderRadius: '0.375rem', padding: '0.5rem 1rem', marginBottom: '1rem', border: 'none' } }),
            React.createElement('button', { onClick: handleAdminLogin, style: { width: '100%', background: '#dc2626', color: 'white', padding: '0.5rem', borderRadius: '0.375rem', fontWeight: 'bold', marginBottom: '0.5rem', border: 'none', cursor: 'pointer' } }, 'Login'),
            React.createElement('button', { onClick: () => setShowLoginPrompt(false), style: { width: '100%', background: '#4b5563', color: 'white', padding: '0.5rem', borderRadius: '0.375rem', fontWeight: 'bold', border: 'none', cursor: 'pointer' } }, 'Cancel')
          )
        );
      }

      if (adminMode) {
        return React.createElement('div', { style: { minHeight: '100vh', background: 'linear-gradient(to bottom right, #0f172a, #1e293b)', color: 'white', padding: '1.5rem' } },
          React.createElement('div', { style: { maxWidth: '80rem', margin: '0 auto' } },
            React.createElement('div', { style: { marginBottom: '2rem' } },
              React.createElement('h1', { style: { fontSize: '1.875rem', fontWeight: 'bold', color: '#60a5fa', marginBottom: '1rem' } }, 'âš™ï¸ Admin Panel'),
              React.createElement('button', { onClick: () => setAdminMode(false), style: { background: '#dc2626', color: 'white', padding: '0.5rem 1rem', borderRadius: '0.375rem', fontWeight: 'bold', border: 'none', cursor: 'pointer' } }, 'Logout')
            ),
            React.createElement('div', { style: { background: 'linear-gradient(to bottom right, #1e293b, #0f172a)', border: '1px solid rgba(59, 130, 246, 0.3)', borderRadius: '0.5rem', padding: '1.5rem' } },
              React.createElement('h2', { style: { fontSize: '1.25rem', fontWeight: 'bold', color: '#60a5fa', marginBottom: '1rem' } }, 'ðŸ§© Consumables'),
              React.createElement('p', { style: { color: '#9ca3af', marginBottom: '1.5rem' } }, `Total items: ${consumables.length}`),
              React.createElement('div', { style: { display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(250px, 1fr))', gap: '1rem' } },
                consumables.map(cons =>
                  React.createElement('div', { key: cons.id, style: { background: 'linear-gradient(to bottom right, #334155, #1e293b)', border: '1px solid rgba(59, 130, 246, 0.3)', borderRadius: '0.5rem', padding: '1rem' } },
                    React.createElement('div', { style: { fontWeight: 'bold', color: '#60a5fa', marginBottom: '0.5rem' } }, cons.name),
                    React.createElement('div', { style: { fontSize: '0.875rem', color: '#9ca3af', marginBottom: '0.5rem' } }, cons.category),
                    React.createElement('div', { style: { fontSize: '0.875rem', color: '#6b7280' } },
                      cons.weight ? `Weight: ${cons.weight}kg` : '',
                      React.createElement('br'),
                      cons.od ? `OD: ${cons.od}mm` : ''
                    )
                  )
                )
              )
            )
          )
        );
      }

      return React.createElement('div', { style: { minHeight: '100vh', background: 'linear-gradient(to bottom right, #0f172a, #1e293b)', color: 'white', padding: '1.5rem' } },
        React.createElement('div', { style: { maxWidth: '80rem', margin: '0 auto' } },
          React.createElement('div', { style: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '2rem' } },
            React.createElement('h1', { style: { fontSize: '2rem', fontWeight: 'bold', color: '#60a5fa' } }, 'â›ï¸ Drill Rig Management'),
            React.createElement('button', { onClick: () => setShowLoginPrompt(true), style: { background: '#dc2626', color: 'white', padding: '0.5rem 1rem', borderRadius: '0.375rem', fontWeight: 'bold', border: 'none', cursor: 'pointer' } }, 'ðŸ”“ Admin')
          ),
          React.createElement('div', { style: { background: 'linear-gradient(to bottom right, #1e293b, #0f172a)', border: '2px solid rgba(34, 197, 94, 0.3)', borderRadius: '0.5rem', padding: '2rem', textAlign: 'center' } },
            React.createElement('h2', { style: { fontSize: '1.5rem', color: '#22c55e', marginBottom: '1rem' } }, 'âœ“ System Online'),
            React.createElement('p', { style: { color: '#d1d5db', marginBottom: '1rem' } }, `Consumables loaded: ${consumables.length} items`),
            React.createElement('p', { style: { color: '#9ca3af' } }, 'Click "Admin" to manage items and create drill strings')
          )
        )
      );
    }

    const root = createRoot(document.getElementById('root'));
    root.render(React.createElement(App));
  </script>
</body>
</html>
